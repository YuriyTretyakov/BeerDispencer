@using Implementation;


@page "/"
@inject TimeZoneService TimeZoneService
@inject AccountService accountService; 


<PageTitle>Index</PageTitle>

<RadzenText Style="margin-bottom:50px" TextStyle="TextStyle.H3" TagName="TagName.H5" TextAlign="TextAlign.Center">Bar Ugly Coyote</RadzenText>
<RadzenImage Path="images/ugly-coyote-intro.jpg" Style="width: 100%; height:auto; display: block;" />

 <RadzenCard>
     @if (accountService.IsLoggedIn)
{
        <RadzenText Style="margin-bottom:50px" TextStyle="TextStyle.H5" TagName="TagName.H5" TextAlign="TextAlign.Center">Welcome back, @accountService.UserName</RadzenText>
    }
    else
    {
    <RadzenText Style="margin-bottom:50px" TextStyle="TextStyle.H5" TagName="TagName.H5" TextAlign="TextAlign.Center">Welcome stranger. Before you come you'll tell me who you are</RadzenText>
    }
</RadzenCard>

@code {
    [CascadingParameter]
    public MainLayout mainLayout { get; set; }

    DateTimeOffset now;


    protected override async Task OnInitializedAsync()
    {
        var offset = await TimeZoneService.GetUTCOffset();
        now = new DateTimeOffset(DateTime.Now, offset.Value);

    }
}
